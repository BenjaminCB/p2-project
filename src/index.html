<!DOCTYPE html>      
<html lang="en">  
    <head>          
        <title>Page Title</title>
        <style>

            body {
              background-image: url('marble.jpg');
              background-size: cover;
              background-attachment: fixed;
            }


            h1 {
                padding: 35px;
                height: 80px;
                margin: -10px;
                text-align: center;
                vertical-align: center;
                font-size: 70px;
                background: #ffcccc;
                font-family: 'Times New Roman', Times, serif;
            }
            h3 {
                padding: 20px;
                margin: -10px;
                text-align: justify-all;
                font-family: 'Times New Roman', Times, serif;
            }

            input[type=text]{
                height: 50px;
                border: 1px solid;
                border-radius: 4px;
                border-color: black;
                position: absolute;
                margin: 0 auto;
                left: 25%;
                width: 50%;
            }

            input[type=button] {
                width: 15%;
                background-color: white;
                color:black;
                border-color:black;
                padding: 15px 10px;
                margin: 60px 42%;
                border-radius: 2px;
                cursor: pointer;
                border: 1px solid;
            }

            input[type=button]:hover {
                background-color: #ffcccc;
            }

            .time{
              background-color: #ffcccc;
              display: flex;
              align-items:center;
              width: 7%;
              
              margin-bottom: 20px;
            }
            .column{
              background-color: #ffcccc;
              display: flex;
              flex-direction: column;
              align-items: center;
              width: 50%;
              margin-bottom: 20px;
            }

            .row {
              position: absolute;
              margin: -40px auto;
              left: 25%;
              width: 100%;
            }
        </style> 

    </head>
    <body>
    <h1>Message Translater</h1>
    <h3>Your Input</h3>

        <label for="fname"></label>
        <input type="text" id="fname" name="Input" placeholder="Write here...">
        <input type="button" id="button" value="Submit"> 
        
        <div class="row">
          
            <div class="column">
              <h2>Endcode</h2>
              <p id="EC"></p>
            </div>
            <div class="column">
              <h2>Error</h2>
              <p id="ERR"></p>
            </div>
            <div class="column">
              <h2>Decode</h2>
              <p id="DC"></p>
            </div>
            <div class="time">
              <h2></h2>
              <p id="DC"></p>
            </div>
          </div>

      <script>
        let bt = document.getElementById("button");
        let data = document.getElementById("fname");
        let ws = new WebSocket("ws://localhost:3000/");
        let endcode = document.getElementById("EC");
        let error = document.getElementById("ERR");
        let decode = document.getElementById("DC");

// Commentstart on column 1 
        ws.addEventListener("open",() => {
          console.log("hej-endcode");
        });
        bt.addEventListener("click", () =>{
          ws.send(data.value);
        });
        ws.addEventListener("message", (received) => {
          let [eventname, eventdata]=received.data.split("=");
          console.log(eventname);
          console.log(eventdata);
        if (eventname === "endcode"){
          endcode.innerText=eventdata;
        }
        });
// Comment end on column 1
// Commentstart on column 2
        ws.addEventListener("open",() => {
          console.log("hej-error");
        });
        bt.addEventListener("click", () =>{
          ws.send(data.value);
        });
        ws.addEventListener("message", (received) => {
          let [eventname, eventdata]=received.data.split("=");
          console.log(eventname);
          console.log(eventdata);
        if (eventname === "error"){
          error.innerText=eventdata;
        }
        });
// Comment end on column 2
// Commentstart on column 3
ws.addEventListener("open",() => {
          console.log("hej-decode");
        });
        bt.addEventListener("click", () =>{
          ws.send(data.value);
        });
        ws.addEventListener("message", (received) => {
          let [eventname, eventdata]=received.data.split("=");
          console.log(eventname);
          console.log(eventdata);
        if (eventname === "decode"){
          decode.innerText=eventdata;
        }
        });
// Comment end on column 3
      </script>
    </body>
</html>
